  - name: Servarr
    # width: slim
    center-vertically: true
    columns:
    - size: small
      widgets:
        - type: bookmarks
          title: _ _ _
          groups:
            - links:
              - title: File Browser
                url: http://10.0.0.7:8282/files/mnt
                icon: ../assets/icons/file-explorer.png
              - title: Servarr Wiki
                url: https://wiki.servarr.com/
                icon: ../assets/icons/servarr.png

            - title: Sources
              hide-arrow: true
              links:
                - title: The Pirate Bay
                  url: https://thepiratebay.org/
                  icon: ../assets/icons/utorrent.png
                - title: ytsMx Movies
                  url: https://yts.mx/browse-movies/film/all/all/0/latest/0/all
                  icon: ../assets/icons/utorrent.png
                - title: EzTv
                  url: https://eztvx.to/home
                  icon: ../assets/icons/utorrent.png
                - title: IP-TV
                  url: https://github.com/iptv-org/iptv/blob/master/PLAYLISTS.md
                  icon: ../assets/icons/utorrent.png     
                - title: Bandcamp
                  url: https://bandcamp.com
                  icon: ../assets/icons/music-service.png
                - title: Usenet Indexer
                  url: https://nzbgeek.info
                  icon: ../assets/icons/nzb-dav.png
                - title: Usenet Provider
                  url: https://www.supernews.com/usenet/
                  icon: ../assets/icons/nzb-dav.png
                - title: MusicBrainz
                  url: https://musicbrainz.org/search
                  icon: ../assets/icons/music-service.png
        - type: custom-api
          title: "Jellyfin Stats"
          base-url: http://10.0.40.20:8096
          options:
            url: http://10.0.40.20:8096
            key: ed1472a3abf14fe68d93b81b5acb7611

          template: |
            {{ $url := .Options.StringOr "url" "" }}
            {{ $key := .Options.StringOr "key" "" }}

            {{- if or (eq $url "") (eq $key "") -}}
    
              <p>Error: The URL or API Key was not configured in the widget options.</p>
      
            {{- else -}}

              {{- $requestUrl := printf "%s/emby/Items/Counts?api_key=%s" $url $key -}}
              {{- $jellyfinData := newRequest $requestUrl | getResponse -}}

              {{- if eq $jellyfinData.Response.StatusCode 200 -}}
                <div class="flex flex-column gap-5">
                  <div class="flex justify-between text-center">
            
                  <div>
                    <div class="color-highlight size-h3">{{ $jellyfinData.JSON.Int "MovieCount" | formatNumber }}</div>
                    <div class="size-h5 uppercase">Movies</div>
                  </div>

                  <div>
                    <div class="color-highlight size-h3">{{ $jellyfinData.JSON.Int "SeriesCount" | formatNumber }}</div>
                    <div class="size-h5 uppercase">TV Shows</div>
                  </div>

                  <div>
                    <div class="color-highlight size-h3">{{ $jellyfinData.JSON.Int "EpisodeCount" | formatNumber }}</div>
                    <div class="size-h5 uppercase">Episodes</div>
                  </div>

                  <div>
                    <div class="color-highlight size-h3">{{ $jellyfinData.JSON.Int "SongCount" | formatNumber }}</div>
                    <div class="size-h5 uppercase">Songs</div>
                  </div>

                  </div>
                </div>
                {{- else -}}
              <p>Failed: {{ $jellyfinData.Response.Status }}</p>
                {{- end -}}
              {{- end -}}         

    - size: full
      widgets:
        - type: search
          placeholder: "!yt; !ph; !im; !tph"
          autofocus: true
          new-tab: true
          search-engine: duckduckgo
          bangs:
          - title: YouTube
            shortcut: "!yt"
            url: https://www.youtube.com/results?search_query={QUERY}
          - title: PornHub
            shortcut: "!ph"
            url: https://www.pornhub.com/video/search?search={QUERY}
          - title: IMDb
            shortcut: "!im"
            url: https://www.imdb.com/find/?q={QUERY}
          - title: The Pirate Bay
            shortcut: "!tpb"
            url: https://thepiratebay.org/search.php?q={QUERY}
            
        - type: monitor
          cache: 1m
          title: Frontend Services
          sites:
            - title: devBoer's Jellyfin
              url: https://jellyfin.int.devboer.com
              icon: https://cdn.jsdelivr.net/gh/selfhst/icons/png/jellyfin.png # ../assets/icons/jellyfin-light.png
            - title: Navidrome
              url: https://music.int.devboer.com 
              icon: https://cdn.jsdelivr.net/gh/selfhst/icons/png/navidrome.png # ../assets/icons/navidrome.png
            - title: Request (devBoer)
              url: https://new.arr.devboer.com # http://10.0.40.22:5055
              icon: https://cdn.jsdelivr.net/gh/selfhst/icons/png/jellyseerr.png # ../assets/icons/jellyseerr-light.png

        - type: monitor
          cache: 1m
          title: Manage Libraries
          sites:
            - title: Music
              url: https://lid.arr.devboer.com # http://10.0.40.26:8686
              icon: ../assets/icons/lidarr-radarr.png
            - title: Movies
              url: https://rad.arr.devboer.com # http://10.0.40.23:7878
              icon: ../assets/icons/radarr.png
            - title: Series
              url: https://son.arr.devboer.com # http://10.0.40.28:8989
              icon: ../assets/icons/sonarr-radarr.png
            - title: Comics
              url: https://myl.arr.devboer.com # http://10.0.40.41:8090
              icon: ../assets/icons/mylar3.png
            - title: XXX
              url: https://whisp.arr.devboer.com # http://10.0.40.18:6969
              icon: ../assets/icons/whisparr.png
        - type: monitor
          cache: 1m
          title: Process Media
          sites:
            - title: Transcode
              url: https://td.arr.devboer.com/#/ # http://10.0.40.27:8265
              icon: ../assets/icons/tdarr.png
            - title: NZBget
              url: https://nzb.arr.devboer.com # http://10.0.40.29:6789
              icon: ../assets/icons/nzbget.png
            - title: YouTube
              url: https://yout.arr.devboer.com # http://10.0.40.21:8081
              icon: ../assets/icons/youtarr.png

